<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How to compute DICs and sensitivity matrix? · NmodController</title><meta name="title" content="How to compute DICs and sensitivity matrix? · NmodController"/><meta property="og:title" content="How to compute DICs and sensitivity matrix? · NmodController"/><meta property="twitter:title" content="How to compute DICs and sensitivity matrix? · NmodController"/><meta name="description" content="Documentation for NmodController."/><meta property="og:description" content="Documentation for NmodController."/><meta property="twitter:description" content="Documentation for NmodController."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">NmodController</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Initializing a conductance based model</span><ul><li><a class="tocitem" href="../../initializing/current/">How to initialize an ionic current?</a></li><li><a class="tocitem" href="../../initializing/neuron/">How to initialize a conductance based model?</a></li><li><a class="tocitem" href="../../initializing/examples/">Examples of existing models</a></li></ul></li><li><span class="tocitem">Computing dynamical input conductances (DICs)</span><ul><li class="is-active"><a class="tocitem" href>How to compute DICs and sensitivity matrix?</a><ul class="internal"><li><a class="tocitem" href="#Computing-dynamic-input-conductances-(DICs)"><span>Computing dynamic input conductances (DICs)</span></a></li><li><a class="tocitem" href="#Computing-threshold-voltage"><span>Computing threshold voltage</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples of existing models</a></li></ul></li><li><span class="tocitem">Simulating with DifferentialEquations.jl</span><ul><li><a class="tocitem" href="../../simulating/files/">How to write ODE functions file?</a></li><li><a class="tocitem" href="../../simulating/examples/">Examples of existing models</a></li></ul></li><li><a class="tocitem" href="../../typesMethodsFunctions/">Types/Methods/Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Computing dynamical input conductances (DICs)</a></li><li class="is-active"><a href>How to compute DICs and sensitivity matrix?</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How to compute DICs and sensitivity matrix?</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/arthur-fyon/NmodController.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/arthur-fyon/NmodController.jl/blob/main/docs/src/computing/DICs.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Computations-on-conductance-based-model"><a class="docs-heading-anchor" href="#Computations-on-conductance-based-model">Computations on conductance based model</a><a id="Computations-on-conductance-based-model-1"></a><a class="docs-heading-anchor-permalink" href="#Computations-on-conductance-based-model" title="Permalink"></a></h1><h2 id="Computing-dynamic-input-conductances-(DICs)"><a class="docs-heading-anchor" href="#Computing-dynamic-input-conductances-(DICs)">Computing dynamic input conductances (DICs)</a><a id="Computing-dynamic-input-conductances-(DICs)-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-dynamic-input-conductances-(DICs)" title="Permalink"></a></h2><p>DICs are three voltage-dependent conductance curves <span>$g_\mathrm{f}(V),g_\mathrm{s}(V),g_\mathrm{u}(V)$</span> that can  be computed as linear functions of the maximal conductance vector <span>$\bar{g}_\mathrm{ion}$</span> of the neuron model at each <span>$V$</span>. By wrapping the three dynamic input conductances in a vector <span>$g_\mathrm{DIC}(V)$</span>, the linear combination writes</p><p class="math-container">\[g_\mathrm{DIC}(V) = S(V) \cdot \bar{g}_\mathrm{ion}\]</p><p>where <span>$S(V)$</span> is a sensitivity matrix. These mathematical function can be built using Drion et al., 2015 &quot;Dynamic input conductances shape neuronal spiking&quot;.</p><p>Because of the specific feedback structure of conductance-based models, DICs shape neuronal spiking behavior and the three DICs differ in the timescale at which this shaping happens: fast <span>$g_\mathrm{f}(V)$</span>, slow <span>$g_\mathrm{s}(V)$</span>, and ultraslow <span>$g_\mathrm{u}(V)$</span>. Values and signs of the DICs at specific voltages, mainly the threshold voltage <span>$V_\mathrm{th}$</span>, reliably determine the neuronal firing pattern. For instance, a negative <span>$g_\mathrm{f}(V_\mathrm{th})$</span>, which corresponds to a local fast positive feedback, indicates that the neuron is able to fire a spike spontaneously around threshold voltage. A positive <span>$g_\mathrm{s}(V_\mathrm{th})$</span>, which corresponds to a slow negative feedback, indicates that, right after a spike, the neuron will tend to attenuate the excitation and bring back the neuron to rest voltage, while a negative <span>$g_\mathrm{s}(V_\mathrm{th})$</span> indicates that the neuron will tend to fire other spikes to initiate a burst. In the case of bursting neuron, <span>$g_\mathrm{u}(V_\mathrm{th})$</span> is always positive and is an indicator of the interburst frequency as well as the duty cycle, i.e., ultraslow negative feedback.</p><p>Once the conductance based model had been initialized using <em>NmodController.jl</em>, computing DICs or sensitivity matrix can be made using the function <code>computeDICs()</code>. As arguments, you only have to specify your model and three time constant functions corresponding to the fast, slow and ultraslow time ranges in which DICs differ to compute these, such that you avoid all the fancy computations by hand.</p><h3 id="Example-1"><a class="docs-heading-anchor" href="#Example-1">Example 1</a><a id="Example-1-1"></a><a class="docs-heading-anchor-permalink" href="#Example-1" title="Permalink"></a></h3><p>The next few lines of code show how to compute DICs using a predefined conductance based model <code>neuron</code>. Note that you must specify maximum ion channel conductances when initializing the conductance based model in order to compute DICs.</p><pre><code class="language-julia hljs"># First initializing the three timescales
tauX(V, A, B, D, E) = A - B / (1 + exp((V+D) / E))
tauFast(V) = tauX(V, 1.32, 1.26, 120., -25.)
tauSlow(V) = boltz(V, 12.3, -11.8)
tauUltraslow(V) = 100.

using NmodController
gf, gs, gu = computeDICs(neuron, tauFast, tauSlow, tauUltraslow)</code></pre><h3 id="Example-2"><a class="docs-heading-anchor" href="#Example-2">Example 2</a><a id="Example-2-1"></a><a class="docs-heading-anchor-permalink" href="#Example-2" title="Permalink"></a></h3><p>The next few lines of code show how to compute the sensitivity matrix using a predefined conductance based model <code>neuron</code>.</p><pre><code class="language-julia hljs"># First initializing the three timescales
tauX(V, A, B, D, E) = A - B / (1 + exp((V+D) / E))
tauFast(V) = tauX(V, 1.32, 1.26, 120., -25.)
tauSlow(V) = boltz(V, 12.3, -11.8)
tauUltraslow(V) = 100.

using NmodController
S = computeDICs(neuron, tauFast, tauSlow, tauUltraslow, onlyS=true)</code></pre><p>Note that two other optional arguments can be specified to <code>computeDICs()</code>:</p><ol><li><code>tauCa</code> which is a number capturing the timescale of the intracellular calcium dynamics (often large since calcium is ultraslow);</li><li><code>scaled</code> which is a boolean automatically set to true that makes DICs or sensitivity matrix being scaled by the leakage conductance of the conductances based model so that these are dimensionless, strongly recommend.</li></ol><h2 id="Computing-threshold-voltage"><a class="docs-heading-anchor" href="#Computing-threshold-voltage">Computing threshold voltage</a><a id="Computing-threshold-voltage-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-threshold-voltage" title="Permalink"></a></h2><p>As said earlier, threshold voltage <span>$V_\mathrm{th}$</span> is ubiquitous when dealing with DICs. To compute it, we need DICs as threshold voltage is defined as the positive to negative zero crossing of the global input conductance <span>$g_\mathrm{in}(V) = g_\mathrm{f}(V) + g_\mathrm{s}(V) + g_\mathrm{u}(V)$</span>. Once the DICs had been computed using <em>NmodController.jl</em>, computing threshold voltage can be made using the function <code>computeThresholdVoltage()</code>.</p><h3 id="Example-3"><a class="docs-heading-anchor" href="#Example-3">Example 3</a><a id="Example-3-1"></a><a class="docs-heading-anchor-permalink" href="#Example-3" title="Permalink"></a></h3><p>The next few lines of code show how to compute the threshold voltage using a predefined conductance based model <code>neuron</code>.</p><pre><code class="language-julia hljs"># First initializing the three timescales
tauX(V, A, B, D, E) = A - B / (1 + exp((V+D) / E))
tauFast(V) = tauX(V, 1.32, 1.26, 120., -25.)
tauSlow(V) = boltz(V, 12.3, -11.8)
tauUltraslow(V) = 100.

using NmodController
gf, gs, gu = computeDICs(neuron, tauFast, tauSlow, tauUltraslow)
Vth = computeThresholdVoltage(gf, gs, gu)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../initializing/examples/">« Examples of existing models</a><a class="docs-footer-nextpage" href="../examples/">Examples of existing models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.0.0 on <span class="colophon-date" title="Friday 15 September 2023 13:41">Friday 15 September 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
